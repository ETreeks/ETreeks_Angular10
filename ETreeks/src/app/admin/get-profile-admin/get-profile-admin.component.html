<app-sidebar></app-sidebar>
<div class="page-wrapper" id="main-wrapper" data-layout="vertical" data-navbarbg="skin6" data-sidebartype="full"
     data-sidebar-position="fixed" data-header-position="fixed">
  <div class="body-wrapper">
    <div class="container-fluid">
      <!-- Account page navigation -->
      <nav class="nav nav-borders">
        <h1>My Profile</h1>
      </nav>
      <hr class="mt-0 mb-4">
      <div class="row">
        <div class="col-xl-4">
          <!-- Profile picture card -->
          <div class="card mb-4 mb-xl-0">
            <div class="card-header">Profile Picture</div>
            <div class="card-body text-center">
              <!-- Profile picture image -->
              <img class="img-account-profile rounded-circle mb-2" [src]="displayImage" alt="Profile Image">
              
            <!-- Profile picture help block -->
              <div class="small font-italic text-muted mb-4">JPG or PNG no larger than 5 MB</div>
              <!-- Profile picture upload button -->
              <!-- Hidden file input -->
<input type="file" id="fileInput" style="display: none;" (change)="onFileSelected($event)" />

<!-- Button to trigger the file input -->
<button type="button" class="btn btn-primary" (click)="triggerFileInput()">Upload New Image</button>
            </div>
          </div>
        </div>
        <div class="col-xl-8" *ngIf="profile">
          <!-- Account details card -->
          <div class="card mb-4">
            <div class="card-header">Account Details</div>
            <div class="card-body">
              <form (ngSubmit)="updateProfile()">
                <!-- Form Group (username) -->
                <div class="mb-3">
                  <label class="small mb-1" for="inputUsername">Username</label>
                  <input class="form-control" id="inputUsername" type="text" [(ngModel)]="profile.username" name="username" required>
                </div>
                <!-- Form Row -->
                <div class="row gx-3 mb-3">
                  <!-- Form Group (first name) -->
                  <div class="col-md-6">
                    <label class="small mb-1" for="inputFirstName">First name</label>
                    <input class="form-control" id="inputFirstName" type="text" [(ngModel)]="profile.fname" name="fname" required>
                  </div>
                  <!-- Form Group (last name) -->
                  <div class="col-md-6">
                    <label class="small mb-1" for="inputLastName">Last name</label>
                    <input class="form-control" id="inputLastName" type="text" [(ngModel)]="profile.lname" name="lname" required>
                  </div>
                </div>
                <!-- Form Row -->
                <div class="row gx-3 mb-3">
                  <!-- Form Group (gender) -->
                  <div class="col-md-6">
                    <label class="small mb-1" for="inputGender">Gender</label>
                    <input class="form-control" id="inputGender" type="text" [(ngModel)]="profile.gender" name="gender" required>
                  </div>
                  <!-- Form Group (phone number) -->
                  <div class="col-md-6">
                    <label class="small mb-1" for="inputPhone">Phone number</label>
                    <input class="form-control" id="inputPhone" type="tel" [(ngModel)]="profile.phone" name="phone" required>
                  </div>
                </div>
                <!-- Form Group (email address) -->
                <div class="mb-3">
                  <label class="small mb-1" for="inputEmailAddress">Email address</label>
                  <input class="form-control" id="inputEmailAddress" type="email" [(ngModel)]="profile.email" name="email" required>
                </div>
                

                <!-- Save changes button -->
                <button class="btn btn-primary" type="submit">Update Profile</button>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
